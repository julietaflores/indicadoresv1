(self.webpackChunkmaterialpro=self.webpackChunkmaterialpro||[]).push([[443],{62443:(e,o,t)=>{"use strict";t.r(o),t.d(o,{IndicadoresModule:()=>N});var a=t(61116),s=t(29996),n=t(47340),i=t(35366),l=t(34546),r=t(66252),c=t(46269),u=t(35965),d=t(22797),h=t(13070),v=t(13841),m=t(87064);function M(e,o){if(1&e&&(i.TgZ(0,"mat-option",16),i._uU(1),i.qZA()),2&e){const e=o.$implicit;i.Q6J("value",e.value),i.xp6(1),i.hij(" ",e.viewValue," ")}}function g(e,o){if(1&e&&(i.TgZ(0,"mat-option",16),i._uU(1),i.qZA()),2&e){const e=o.$implicit;i.Q6J("value",e.value),i.xp6(1),i.hij(" ",e.viewValue," ")}}function _(e,o){1&e&&(i.TgZ(0,"th",17),i._uU(1," MES "),i.qZA())}function p(e,o){if(1&e&&(i.TgZ(0,"td",18),i._uU(1),i.qZA()),2&e){const e=o.$implicit;i.xp6(1),i.hij(" ",e.Monto_Mes," ")}}function Z(e,o){1&e&&(i.TgZ(0,"th",17),i._uU(1," ACUMULADO"),i.qZA())}function A(e,o){if(1&e&&(i.TgZ(0,"td",18),i._uU(1),i.qZA()),2&e){const e=o.$implicit;i.xp6(1),i.hij(" ",e.Monto_Acumulado," ")}}function f(e,o){1&e&&i._UZ(0,"tr",19)}function C(e,o){1&e&&i._UZ(0,"tr",20)}function w(e,o){if(1&e&&(i.TgZ(0,"td",18),i._uU(1),i.qZA()),2&e){const e=o.$implicit;i.xp6(1),i.hij(" ",e.Monto_Mes," ")}}function x(e,o){if(1&e&&(i.TgZ(0,"td",18),i._uU(1),i.qZA()),2&e){const e=o.$implicit;i.xp6(1),i.hij(" ",e.Monto_Acumulado," ")}}function b(e,o){1&e&&i._UZ(0,"tr",20)}const T=[{path:"",children:[{path:"Ventas",component:(()=>{class e{constructor(e,o,t){this.breakpointObserver=e,this.userservice=o,this.indicadorservice=t,this.element_data=[],this.coins=[],this.selectedyear=String((new Date).getFullYear()),this.Month=Number((new Date).getMonth()+1),this.selectedMonth=String(this.getCurrenlyMonth()),this.selectedCoin=this.userservice.responseLogin.valor.Companiaa[0].IdMonedaEmpresaOdoo,this.years=[{value:"2021",viewValue:"2021"},{value:"2020",viewValue:"2020"},{value:"2019",viewValue:"2019"}],this.months=[{value:"01",viewValue:"Enero"},{value:"02",viewValue:"Febrero"},{value:"03",viewValue:"Marzo"},{value:"04",viewValue:"Abril"},{value:"05",viewValue:"Mayo"},{value:"06",viewValue:"Junio"},{value:"07",viewValue:"Julio"},{value:"08",viewValue:"Agosto"},{value:"09",viewValue:"Septiembre"},{value:"10",viewValue:"Octubre"},{value:"11",viewValue:"Noviembre"},{value:"12",viewValue:"Marzo"}],this.displayedColumns=["Monto_Mes","Monto_Acumulado"],this.displayedColumnsPorcentaje=["P_Monto_Mes","P_Monto_Acumulado"],this.userservice.responseLogin.valor.Monedass.forEach(e=>{this.coins.push({value:e.IdMonedaEmpresaOdoo,viewValue:e.Name})}),this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(e=>{this.displayedColumns=["Monto_Mes","Monto_Acumulado"]})}ngOnInit(){this.indicadorservice.getMessageIndicadores().subscribe(e=>{console.log(e);let o={Monto_Mes:e[0].P_Monto_Mes,Monto_Acumulado:e[0].P_Monto_Acumulado};this.element_data.push({Monto_Mes:e[0].Monto_Mes,Monto_Acumulado:e[0].Monto_Acumulado}),this.element_data.push(o),this.dataSource=new n.by(this.element_data)})}getCurrenlyMonth(){let e=(new Date).getMonth()+1;return e<10?"0"+e:e}onYearChange(e){console.log(this.selectedyear),this.selectedyear=e.value,console.log(this.selectedMonth),console.log(this.selectedCoin),console.log(this.userservice.responseLogin.valor.Monedass),console.log(this.months[this.Month-1].viewValue),this.indicadorservice.clearMessagesIndicadores(),this.indicadorservice.getIndicadorVentas(this.userservice.responseLogin.valor.idUsuario,this.selectedyear,this.selectedMonth,this.userservice.responseLogin.valor.Companiaa[0].IdCompaniaOdoo,Number(this.selectedCoin)).subscribe(e=>{this.indicadorservice.sendMessageIndicadores([{Monto_Mes:e.valor.Monto_Mes,Monto_Acumulado:e.valor.Monto_Acumulado,P_Monto_Mes:e.valor.Porcentaje_Monto_Mes+"%",P_Monto_Acumulado:e.valor.Porcentaje_Monto_Acumulado+"%"}])})}onMonthChange(e){console.log(this.selectedyear),this.selectedMonth=e.value,console.log(this.selectedMonth),console.log(this.selectedCoin),this.indicadorservice.clearMessagesIndicadores(),this.indicadorservice.getIndicadorVentas(this.userservice.responseLogin.valor.idUsuario,this.selectedyear,this.selectedMonth,this.userservice.responseLogin.valor.Companiaa[0].IdCompaniaOdoo,Number(this.selectedCoin)).subscribe(e=>{this.indicadorservice.sendMessageIndicadores([{Monto_Mes:e.valor.Monto_Mes,Monto_Acumulado:e.valor.Monto_Acumulado,P_Monto_Mes:e.valor.Porcentaje_Monto_Mes+"% vs "+e.valor.vs,P_Monto_Acumulado:e.valor.Porcentaje_Monto_Acumulado+"% vs "+e.valor.vs}])})}onCoinChange(e){console.log(this.selectedyear),this.selectedCoin=e.value,console.log(this.selectedMonth),console.log(this.selectedCoin),this.indicadorservice.clearMessagesIndicadores(),this.indicadorservice.getIndicadorVentas(this.userservice.responseLogin.valor.idUsuario,this.selectedyear,this.selectedMonth,this.userservice.responseLogin.valor.Companiaa[0].IdCompaniaOdoo,Number(this.selectedCoin)).subscribe(e=>{this.indicadorservice.sendMessageIndicadores([{Monto_Mes:e.valor.Monto_Mes,Monto_Acumulado:e.valor.Monto_Acumulado,P_Monto_Mes:e.valor.Porcentaje_Monto_Mes+"% vs "+e.valor.vs,P_Monto_Acumulado:e.valor.Porcentaje_Monto_Acumulado+"% vs "+e.valor.vs}])})}}return e.\u0275fac=function(o){return new(o||e)(i.Y36(l.Yg),i.Y36(r.K),i.Y36(c.Q))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-ventas"]],decls:40,vars:9,consts:[["fxLayout","row wrap"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],[1,"mb-3"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["fxLayoutAlign","center"],[1,"responsive-table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Monto_Mes"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Monto_Acumulado",1,"m-l-5"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","Monto_Acumulado"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"mat-card"),i.TgZ(3,"mat-card-content"),i.TgZ(4,"mat-card-title",2),i._uU(5,"MES"),i.qZA(),i.TgZ(6,"mat-form-field"),i.TgZ(7,"mat-select",3),i.NdJ("valueChange",function(e){return o.selectedMonth=e})("selectionChange",function(e){return o.onMonthChange(e)}),i.YNc(8,M,2,2,"mat-option",4),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(9,"div",1),i.TgZ(10,"mat-card"),i.TgZ(11,"mat-card-content"),i.TgZ(12,"mat-card-title",2),i._uU(13,"MONEDA"),i.qZA(),i.TgZ(14,"mat-form-field"),i.TgZ(15,"mat-select",3),i.NdJ("valueChange",function(e){return o.selectedCoin=e})("selectionChange",function(e){return o.onCoinChange(e)}),i.YNc(16,g,2,2,"mat-option",4),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(17,"div",0),i.TgZ(18,"div",5),i.TgZ(19,"mat-card"),i.TgZ(20,"mat-card-content"),i.TgZ(21,"mat-card-title",6),i._uU(22,"VENTA USD"),i.qZA(),i.TgZ(23,"div",7),i.TgZ(24,"table",8),i.ynx(25,9),i.YNc(26,_,2,0,"th",10),i.YNc(27,p,2,1,"td",11),i.BQk(),i.ynx(28,12),i.YNc(29,Z,2,0,"th",10),i.YNc(30,A,2,1,"td",11),i.BQk(),i.YNc(31,f,1,0,"tr",13),i.YNc(32,C,1,0,"tr",14),i.qZA(),i.qZA(),i.TgZ(33,"div",7),i.TgZ(34,"table",8),i.ynx(35,9),i.YNc(36,w,2,1,"td",11),i.BQk(),i.ynx(37,15),i.YNc(38,x,2,1,"td",11),i.BQk(),i.YNc(39,b,1,0,"tr",14),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(7),i.Q6J("value",o.selectedMonth),i.xp6(1),i.Q6J("ngForOf",o.months),i.xp6(7),i.Q6J("value",o.selectedCoin),i.xp6(1),i.Q6J("ngForOf",o.coins),i.xp6(8),i.Q6J("dataSource",o.dataSource),i.xp6(7),i.Q6J("matHeaderRowDef",o.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",o.displayedColumns),i.xp6(2),i.Q6J("dataSource",o.dataSource),i.xp6(5),i.Q6J("matRowDefColumns",o.displayedColumns))},directives:[u.xw,u.yH,d.a8,d.dn,d.n5,h.KE,v.gD,a.sg,u.Wh,n.BZ,n.w1,n.fO,n.Dz,n.as,n.nj,m.ey,n.ge,n.ev,n.XQ,n.Gk],styles:[""]}),e})(),data:{title:"Ventas",urls:[{title:"Dashboard",url:"/dashboard"},{title:"Ventas"}]}}]}];var q=t(36516),y=t(77154),V=t(31041),D=t(2809);let N=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[a.ez,s.Bz.forChild(T),q.O,y.o9,V.u5,V.UX,D.DashboardsModule]]}),e})()}}]);